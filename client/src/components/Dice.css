.scene {
    width: 100px;
    height: 100px;
    perspective: 800px;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Default: Landing Transition (Smooth ease-out) */
.cube {
    width: 60px;
    height: 60px;
    position: relative;
    transform-style: preserve-3d;
    transform: translateZ(-30px);
    transition: transform 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* Rolling Transition (Continuous tumbling) */
.cube.is-rolling {
    animation: tumble 0.6s linear infinite;
    /* When rolling, we don't want the transition to interfere with the keyframe loop */
    transition: none; 
}

@keyframes tumble {
    0% { transform: translateZ(-30px) rotateX(0deg) rotateY(0deg) rotateZ(0deg); }
    100% { transform: translateZ(-30px) rotateX(720deg) rotateY(360deg) rotateZ(360deg); }
}

.cube__face {
    position: absolute;
    width: 60px;
    height: 60px;
    border: 2px solid #ccc;
    border-radius: 12px;
    /* Premium dice look */
    background: radial-gradient(circle at center, #ffffff 0%, #eeeeee 100%);
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
    line-height: 60px;
    font-size: 32px;
    font-weight: bold;
    color: #333;
    text-align: center;
    display: flex;
    justify-content: center;
    align-items: center;
    backface-visibility: hidden; /* Clean up rendering */
}

/* Position faces - adjusted translateZ for 60px size */
.cube__face--1 { transform: rotateY(0deg) translateZ(30px); }
.cube__face--2 { transform: rotateY(180deg) translateZ(30px); }
.cube__face--3 { transform: rotateY(90deg) translateZ(30px); }
.cube__face--4 { transform: rotateY(-90deg) translateZ(30px); }
.cube__face--5 { transform: rotateX(90deg) translateZ(30px); }
.cube__face--6 { transform: rotateX(-90deg) translateZ(30px); }

/* Pips (Dots) construction using a grid or flex */
.pip-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    width: 60%;
    height: 60%;
    gap: 2px;
}

.pip {
    background-color: #333;
    border-radius: 50%;
    width: 100%;
    height: 100%;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.5);
    margin: auto;
}

/* Pip positioning for each number */
/* 1: Center */
.face-1 .pip:nth-child(5) { display: block; width: 12px; height: 12px; background: #d00; } /* Red dot for 1 */
.face-1 .pip:not(:nth-child(5)) { background: transparent; box-shadow: none; }

/* 2: Top-left, Bottom-right */
.face-2 .pip:nth-child(1), .face-2 .pip:nth-child(9) { display: block; width: 10px; height: 10px; }
.face-2 .pip:not(:nth-child(1)):not(:nth-child(9)) { background: transparent; box-shadow: none; }

/* 3: Top-left, Center, Bottom-right */
.face-3 .pip:nth-child(1), .face-3 .pip:nth-child(5), .face-3 .pip:nth-child(9) { display: block; width: 10px; height: 10px; }
.face-3 .pip:not(:nth-child(1)):not(:nth-child(5)):not(:nth-child(9)) { background: transparent; box-shadow: none; }

/* 4: Corners */
.face-4 .pip:nth-child(1), .face-4 .pip:nth-child(3), .face-4 .pip:nth-child(7), .face-4 .pip:nth-child(9) { display: block; width: 10px; height: 10px; }
.face-4 .pip:not(:nth-child(1)):not(:nth-child(3)):not(:nth-child(7)):not(:nth-child(9)) { background: transparent; box-shadow: none; }

/* 5: Corners + Center */
.face-5 .pip:nth-child(1), .face-5 .pip:nth-child(3), .face-5 .pip:nth-child(5), .face-5 .pip:nth-child(7), .face-5 .pip:nth-child(9) { display: block; width: 10px; height: 10px; }
.face-5 .pip:not(:nth-child(1)):not(:nth-child(3)):not(:nth-child(5)):not(:nth-child(7)):not(:nth-child(9)) { background: transparent; box-shadow: none; }

/* 6: Columns */
.face-6 .pip:nth-child(1), .face-6 .pip:nth-child(3), .face-6 .pip:nth-child(4), .face-6 .pip:nth-child(6), .face-6 .pip:nth-child(7), .face-6 .pip:nth-child(9) { display: block; width: 10px; height: 10px; }
.face-6 .pip:not(:nth-child(1)):not(:nth-child(3)):not(:nth-child(4)):not(:nth-child(6)):not(:nth-child(7)):not(:nth-child(9)) { background: transparent; box-shadow: none; }

/* Final Rotations to show specific faces */
/* We use big rotations to ensure it doesn't just "reset" but feels like it landed */
.show-1 { transform: translateZ(-30px) rotateY(0deg) rotateX(0deg); }
.show-2 { transform: translateZ(-30px) rotateY(-180deg) rotateX(0deg); }
.show-3 { transform: translateZ(-30px) rotateY(-90deg) rotateX(0deg); }
.show-4 { transform: translateZ(-30px) rotateY(90deg) rotateX(0deg); }
.show-5 { transform: translateZ(-30px) rotateX(-90deg) rotateY(0deg); }
.show-6 { transform: translateZ(-30px) rotateX(90deg) rotateY(0deg); }